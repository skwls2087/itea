<?xml version="1.0" encoding="UTF-8"  ?>
<!-- xml선언부-->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- myBatis-config.xml의     mapper로 반드시 등록되어야 한다 --> 
<mapper namespace="qa">

	<!-- 질문 등록하기 -->
	<insert id="insertQuestion" parameterType="qaDTO">
		insert into qa(qclass,mno,qcont)
		values(#{qclass},#{mno},#{qcont})
	</insert>
	
	<!-- 질문 전체 개수 구하기 -->
	<select id="selectQuestionCnt" resultType="int">
		select count(*) from qa
	</select>
	
	<!-- 해당 페이지에 맞는 질문리스트 구하기 -->
	<select id="questionList" parameterType="qaDTO" resultType="qaDTO">
		SELECT q.qno, q.mno, m.mnick, q.qclass, q.qcont, q.qdate, q.acont, q.adate
		FROM qa AS q
		JOIN member AS m
		ON q.mno=m.mno
		ORDER BY q.qno desc
		limit #{start}, #{end}
	</select>
	
	
</mapper>
	